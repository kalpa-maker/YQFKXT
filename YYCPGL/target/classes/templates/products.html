<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Products</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link th:href="@{/css/templatemo_style.css}" rel="stylesheet" type="text/css" />

<link rel="stylesheet" type="text/css" th:href="@{/css/ddsmoothmenu.css}" />

<script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
<script type="text/javascript" th:src="@{/js/ddsmoothmenu.js}">

</script>

<script type="text/javascript">

ddsmoothmenu.init({
	mainmenuid: "templatemo_menu", //menu DIV id
	orientation: 'h', //Horizontal or vertical menu: Set to "h" or "v"
	classname: 'ddsmoothmenu', //class added to menu's outer DIV
	//customtheme: ["#1c5a80", "#18374a"],
	contentsource: "markup" //"markup" or ["container_id", "path_to_menu_file"]
})

function clearText(field)
{
    if (field.defaultValue == field.value) field.value = '';
    else if (field.value == '') field.value = field.defaultValue;
}
</script>

<link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}" />
<script language="javascript" type="text/javascript" th:src="@{/scripts/mootools-1.2.1-core.js}"></script>
<script language="javascript" type="text/javascript" th:src="@{/scripts/mootools-1.2-more.js}"></script>
<script language="javascript" type="text/javascript" th:src="@{/scripts/slideitmoo-1.1.js}"></script>
<script language="javascript" type="text/javascript">
	window.addEvents({
		'domready': function(){
			/* thumbnails example , div containers */
			new SlideItMoo({
						overallContainer: 'SlideItMoo_outer',
						elementScrolled: 'SlideItMoo_inner',
						thumbsContainer: 'SlideItMoo_items',		
						itemsVisible: 5,
						elemsSlide: 2,
						duration: 200,
						itemsSelector: '.SlideItMoo_element',
						itemWidth: 171,
						showControls:1});
		},
		
	});
</script>

</head>

<body id="subpage">

<div id="templatemo_wrapper">

    <div th:replace="~{common/common::topbar}"></div>
    <div th:replace="~{common/common::menubar}"></div>
    
    <div class="cleaner h20"></div>
    <div id="templatemo_main_top"></div>
    <div id="templatemo_main">
    	<div id="product_slider">
    		<div id="SlideItMoo_outer">	
                <div id="SlideItMoo_inner">
                    <div id="SlideItMoo_items">
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=1)}" target="_parent">
                                <img th:src="@{/images/gallery/01.jpg}" alt="product 1" style="height: 150px;width: 150px"/></a>
                        </div>
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=2)}" target="_parent">
                                <img th:src="@{/images/gallery/02.jpg}" alt="product 2" style="height: 150px;width: 150px"/></a>
                        </div>
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=3)}" target="_parent">
                                <img th:src="@{/images/gallery/03.jpg}" alt="product 3" style="height: 150px;width: 150px"/></a>
                        </div>
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=4)}" target="_parent">
                                <img th:src="@{/images/gallery/04.jpg}" alt="product 4" style="height: 150px;width: 150px"/></a>
                        </div>
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=5)}" target="_parent">
                                <img th:src="@{/images/gallery/05.jpg}" alt="product 5" style="height: 150px;width: 150px"/></a>
                        </div>
                    </div>			
                </div>
            </div>
            <div class="cleaner"></div>
        </div>
        
        <div th:replace="~{common/common::sidebar}"></div>
        
        <div id="content">

        	<div class="col col_14 product_gallery" th:each="list:${pageInfo.list}">
            	<a th:href="@{/productDetail(pId=${list.pId})}"><img th:src="@{${list.pictureId}+'collect.jpg'}" alt="Product 01" style="height: 200px;width: 200px"/></a>
                <h3 th:text="${list.msg}"></h3>
                <p class="product_price" >￥ [[${list.price}]]</p>
                <a th:href="@{/joinBucket(pId=${list.pId})}" class="add_to_cart">Add to Cart</a>
                <input type="hidden" th:value="${pageInfo.pageNum}" id="a"/>
               <!-- <input type="hidden" th:value="${pageInfo.pageNum+1}" id="b"/>
                <input type="hidden" th:value="${pageInfo.pageNum+2}" id="c"/>
                <input type="hidden" th:value="${pageInfo.pageNum-1}" id="d"/>-->
                <input type="hidden" th:value="${pageInfo.pages}" id="e"/>
            </div>


        </div> <!-- END of content -->

        <div class="cleaner"></div>
        <div class="col-md-offset-1 col-md-10">
            <h4 align="center">
                <a onclick="up()" class="up">上一页</a>
                <a th:onclick="'javascript:query1('+${pageInfo.pageNum}+')'">[[${pageInfo.pageNum}]]</a>
                <a th:onclick="'javascript:query1('+${pageInfo.pageNum+1}+')'">[[${pageInfo.pageNum+1}]]</a>
                <a th:onclick="'javascript:query1('+${pageInfo.pageNum+2}+')'">[[${pageInfo.pageNum+2}]]</a>
                <a onclick="down()" class="down">下一页</a>
            </h4>
        </div>
    </div> <!-- END of main -->

    <div th:replace="~{common/common::footerbar}"></div>
   
</div>

<div style="display:none"><script src='http://v7.cnzz.com/stat.php?id=155540&web_id=155540' language='JavaScript' charset='gb2312'></script></div>

<script th:src="@{/js/jquery-3.1.0.js}" type="text/javascript"></script>
<script>
    function up() {
        //[[${pageInfo.pageNum-1<=0}]]
        var a=$('#a').val();
        var b=a-1;
        if(b<=0){
            $('.up').attr("disabled","true");
        }else {
            window.location="query1?page="+b
        }
    }

    function down() {
        //[[${pageInfo.pageNum+1>pageInfo.pages}]]
        var a=$('#a').val();
        var b=parseInt(a)+1;
        var e=$('#e').val();
        if(b>e){
            $('.down').attr("disabled","true");
        }else {
            window.location="query1?page="+b
        }
    }

    function query1(page) {
        var e=$('#e').val();
        if(page<=e){
            window.location="query1?page="+page
        }else {
            $(this).attr("disabled","true");
        }
    }
</script>

</body>
</html>