<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>HOME</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <link th:href="@{/css/templatemo_style.css}" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/ddsmoothmenu.css}" />

    <!--<script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>-->
    <script type="text/javascript" th:src="@{/js/ddsmoothmenu.js}">
    </script>

    <script type="text/javascript">

        ddsmoothmenu.init({
            mainmenuid: "templatemo_menu", //menu DIV id
            orientation: 'h', //Horizontal or vertical menu: Set to "h" or "v"
            classname: 'ddsmoothmenu', //class added to menu's outer DIV
            //customtheme: ["#1c5a80", "#18374a"],
            contentsource: "markup" //"markup" or ["container_id", "path_to_menu_file"]
        })

    </script>

    <link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}" />
    <script language="javascript" type="text/javascript" th:src="@{/scripts/mootools-1.2.1-core.js}"></script>
    <script language="javascript" type="text/javascript" th:src="@{/scripts/mootools-1.2-more.js}"></script>
    <script language="javascript" type="text/javascript" th:src="@{/scripts/slideitmoo-1.1.js}"></script>
    <script language="javascript" type="text/javascript">
        window.addEvents({
            'domready': function(){
                /* thumbnails example , div containers */
                new SlideItMoo({
                    overallContainer: 'SlideItMoo_outer',
                    elementScrolled: 'SlideItMoo_inner',
                    thumbsContainer: 'SlideItMoo_items',
                    itemsVisible: 5,
                    elemsSlide: 2,
                    duration: 200,
                    itemsSelector: '.SlideItMoo_element',
                    itemWidth: 171,
                    showControls:1});
            },

        });

        function clearText(field)
        {
            if (field.defaultValue == field.value) field.value = '';
            else if (field.value == '') field.value = field.defaultValue;
        }

    </script>

</head>

<body id="home">

<div id="templatemo_wrapper">
    <div th:replace="~{common/common::topbar}"></div>
    <div th:replace="~{common/common::menubar}"></div>

    <div id="templatemo_main_top"></div>
    <div id="templatemo_main">
        <div id="product_slider">
            <div id="SlideItMoo_outer">
                <div id="SlideItMoo_inner">
                    <div id="SlideItMoo_items">
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=1)}" target="_parent">
                                <img th:src="@{/images/gallery/01.jpg}" alt="product 1" style="height: 150px;width: 150px"/></a>
                        </div>
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=2)}" target="_parent">
                                <img th:src="@{/images/gallery/02.jpg}" alt="product 2" style="height: 150px;width: 150px"/></a>
                        </div>
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=3)}" target="_parent">
                                <img th:src="@{/images/gallery/03.jpg}" alt="product 3" style="height: 150px;width: 150px"/></a>
                        </div>
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=4)}" target="_parent">
                                <img th:src="@{/images/gallery/04.jpg}" alt="product 4" style="height: 150px;width: 150px"/></a>
                        </div>
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=5)}" target="_parent">
                                <img th:src="@{/images/gallery/05.jpg}" alt="product 5" style="height: 150px;width: 150px"/></a>
                        </div>
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=9)}" target="_parent">
                                <img th:src="@{/images/gallery/06.jpg}" alt="product 6" style="height: 150px;width: 150px"/></a>
                        </div>
                        <div class="SlideItMoo_element">
                            <a th:href="@{/productDetail(pId=7)}" target="_parent">
                                <img th:src="@{/images/gallery/07.jpg}" alt="product 7" style="height: 150px;width: 150px"/></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cleaner"></div>
        </div>

        <div th:replace="~{common/common::sidebar}"></div>

        <div id="content">

            <form class="form-horizontal" role="form">
                <div class="form-group">
                    <input type="hidden" th:value="${address.getaId()}" name="id"/>
                    <h3><label class="col-md-2 control-label" style="font-weight: bold;color: #333333;"><span style="color: #ff0000;">*</span>收货人：</label></h3>
                    <div class="col-md-8">
                        <input type="text" th:value="${address.getaName()}" class="form-control name" placeholder="请输入收货人姓名">
                    </div>
                </div>
                <br>
                <div class="address_content" data-toggle="distpicker">
                    <div class="form-group">
                        <h3><label class="col-md-2 control-label" style="font-weight: bold;color: #333333;"><span style="color: red;">*</span>省/直辖市：</label></h3>
                        <div class="col-md-3">
                            <select class="form-control sheng" data-province="---- 选择省 ----" id="receiverState"></select>
                        </div>
                        <br>
                        <h3><label class="col-md-2 control-label" style="font-weight: bold;color: #333333;"><span style="color: red;">*</span>城市：</label></h3>
                        <div class="col-md-3">
                            <select class="form-control shi" data-city="---- 选择市 ----" id="receiverCity"></select>
                        </div>
                    </div>
                    <br>
                    <div class="form-group ">
                        <h3><label class="col-md-2 control-label" style="font-weight: bold;color: #333333;"><span style="color: #bd2525;">*</span>区县：</label></h3>
                        <div class="col-md-3">
                            <select class="form-control qu" data-district="---- 选择区 ----" id="receiverDistrict"></select>
                        </div>
                        <br>
                    </div>
                </div>
                <br>
                <div class="form-group">
                    <h3><label class="col-md-2 control-label" style="font-weight: bold;color: #333333;"><span style="color: red;">*</span>手机：</label></h3>
                    <div class="col-md-3">
                        <input type="text" th:value="${address.getTel()}" class="form-control tel" placeholder="请输入手机号码">
                    </div>
                </div>
                <br>
                <div class="form-group">
                    <h3><label class="col-md-2 control-label" style="font-weight: bold;color: #333333;"><span style="color: red;">*</span>详细地址：</label></h3>
                    <div class="col-md-8">
                        <textarea th:text="${address.getDetail()}" class="form-control detail" rows="3" placeholder="输入详细的收货地址，小区名称、门牌号等"></textarea>
                    </div>
                </div>

                <br>
                <div class="form-group">

                    <label class="col-md-2 control-label"><a th:href="@{/address2}">返回</a>&nbsp;&nbsp;&nbsp;</label>

                    <div class="col-sm-10">
                        <input type="button" onclick="save()" class="col-md-1 btn btn-primary" value="修改"/>
                        <input type="reset" class="col-md-offset-1 col-md-1 btn btn-primary" value="重置" />
                    </div>
                </div>
            </form>


        </div> <!-- END of content -->
        <div class="cleaner"></div>
    </div> <!-- END of main -->

    <div th:replace="~{common/common::footerbar}"></div>

</div>

<div style="display:none"><script src='http://v7.cnzz.com/stat.php?id=155540&web_id=155540' language='JavaScript' charset='gb2312'></script></div>
</body>

<!--导入核心文件-->
<script th:src="@{/js/jquery-3.1.0.js}" type="text/javascript"></script>
<script type="text/javascript" th:src="@{/js/distpicker.data.js}"></script>
<script type="text/javascript" th:src="@{/js/distpicker.js}"></script>

<script>
    var phone=/^1(?:3\d|4[4-9]|5[0-35-9]|6[67]|7[013-8]|8\d|9\d)\d{8}$/;
    function save() {
          var name=$('.name').val();
          var sheng=$('.sheng').val();
          var shi=$('.shi').val();
          var qu=$('.qu').val();
          var code=$('.code').val();
          var tel=$('.tel').val();
          var detail=$('.detail').val();
          var address=sheng+"_"+shi+"_"+qu+"_"+detail;
        if (!phone.test(tel)||detail==null||detail==""){
            alert("请正确填写信息")
        }else {
            $.ajax({
                url:"updateAddress?name="+name+"&address="+address+"&code="+code+"&tel="+tel+"&detail="+detail,
                success:function (result) {
                    if(result=='success'){
                        alert("修改成功！");
                        window.location="address2";
                    }
                }
            })
        }

    }

</script>

</html>